<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Caro</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js"></script>
    <!-- <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script> -->
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="socket.io/socket.io.js"></script>
    <script src="themes.js"></script>
    <script src="main.js"></script>
    <script>
        window.onload = function() {
            _p5Instance = new p5(caro, 'cnv');

            var btnShowHide = document.getElementById('showHideChat');
            btnShowHide.addEventListener("click", function() {
                var chatbox = document.getElementById('chatBox');
                var isClosing = (btnShowHide.value == 'Chat');

                if(isClosing) {
                    btnShowHide.value = 'Hide';
                    chatbox.style.width = '300px';

                    var thongbao = document.getElementById('mesChuaDoc');
                    thongbao.innerHTML = ''
                    thongbao.style.display = 'none';

                } else {
                    btnShowHide.value = 'Chat';
                    chatbox.style.width = '0px';
                }
            });


            var btnSend = document.getElementById('sendMes');
            btnSend.addEventListener('click', function() {
                var inp = document.getElementById('inputMes');
                if(inp.value != '') {
                    socket.emit('client_send_message', {"mes": inp.value, "from": game.name});
                    inp.value = '';
                }
            })
        };
    </script>
</head>

<body>
    <div class="game">
        <!-- <h2 class="title">
            <i class="fab fa-codepen"></i> CARO
        </h2> -->
        <div class="control">
            <button class="tooltip" onclick="resetGame()" title="New">
                <i class="far fa-sticky-note"></i>
                <span class="tooltiptext">Ván mới</span>
            </button>
            <button class="tooltip" onclick="undoGame()" title="Undo">
                <i class="fas fa-undo-alt"></i>
                <span class="tooltiptext">Đánh lại</span>
            </button>
            <button class="tooltip" title="Tới vị trí quân cờ vừa đánh" onclick="game.focusToPreMove()">
                <i class="fas fa-bullseye"></i>
                <span class="tooltiptext">Vị trí</span>
            </button>
            <button class="tooltip" title="Chuyển giao diện" onclick="switchTheme()">
                <i class="far fa-eye"></i>
                <span class="tooltiptext">Giao diện</span>
            </button>
        </div>
        <div id="cnv"></div>
        <!-- ============== Chat Box ============= -->
        <div id="chatBox">
            <div id="conversation">
            </div>
            <div id="typing">
                <input id="inputMes" type="text" placeholder="Your message here...">
                <input id="sendMes" type="button" value="Gửi">
                <input id="showHideChat" type="submit" value="Chat">
                <span id="mesChuaDoc"></span>
            </div>
        </div>
        <!-- confirm box -->
        
    </div>
</body>

</html>